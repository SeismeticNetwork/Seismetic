var objects = [
    {
        'Name' : 'Google',
        'Icon' : '../img/icon/Google.png',
        'Banner' : '../img/banners/GoogleBanner.png',
        'Method' : 'Launch',
        'URL' : 'https://google.com'
    },
    {
        'Name' : 'Youtube',
        'Icon' : '../img/icon/yt.png',
        'Banner' : '../img/banners/yt.jpg',
        'Method' : 'Launch',
        'URL' : 'https://youtube.com'
    },
    {
        'Name' : 'Instagram',
        'Icon' : '../img/icon/Instagram.png',
        'Banner' : '../img/banners/Instagram.png',
        'Method' : 'Launch',
        'URL' : 'https://now.gg/apps/instagram/1228/instagram.html'
    },
    {
        'Name' : 'BFlix',
        'Icon' : '../img/icon/bflix.png',
        'Banner' : '../img/banners/BFlixBanner.png',
        'Method' : 'Launch',
        'URL' : 'https://bflix.sx'
    },
    {
        'Name' : 'Amazon',
        'Icon' : '../img/icon/amazon.png',
        'Banner' : '../img/banners/Amazon_Banner.png',
        'Method' : 'Launch',
        'URL' : 'https://amazon.com'
    },
    {
        'Name' : 'CoolMathGames',
        'Icon' : '../img/icon/cmg.png',
        'Banner' : '../img/banners/CoolMath_Banner.png',
        'Method' : 'Launch',
        'URL' : 'https://coolmathgames.com'
    },
    {
        'Name' : 'Chess',
        'Icon' : '../img/icon/chess.png',
        'Banner' : '../img/banners/chess.png',
        'Method' : 'Launch',
        'URL' : 'https://chess.com'
    },
    {
        'Name' : 'Discord',
        'Icon' : '../img/icon/discord-icon.png',
        'Banner' : '../img/banners/Discord_Banner.png',
        'Method' : 'Launch',
        'URL' : 'https://canary.discord.com/login'
    },
    {
        'Name' : 'ChatGPT',
        'Icon' : '../img/icon/GPT.png',
        'Banner' : '../img/banners/ChatGPT.png',
        'Method' : 'Launch',
        'URL' : 'https://chat.shuttle.rip/'
    },
    {
        'Name' : 'DuckDuck Go',
        'Icon' : '../img/icon/duckduck-go.png',
        'Banner' : '../img/banners/DuckDuck-GO.png',
        'Method' : 'Launch',
        'URL' : 'https://duckduckgo.com/'
    },
    {
        'Name' : 'ESPN',
        'Icon' : '../img/icon/espn.png',
        'Banner' : '../img/banners/ESPN_Banner.png',
        'Method' : 'Launch',
        'URL' : 'https://espn.com/'
    },
    {
        'Name' : 'Firefox',
        'Icon' : '../img/icon/firefox.png',
        'Banner' : '../img/banners/firefox.png',
        'Method' : 'Launch',
        'URL' : 'https://replit.com/@cooleddie001/Firefox-Legacy?v=1'
    },
    {
        'Name' : 'FlixHQ',
        'Icon' : '../img/icon/flix.png',
        'Banner' : '../img/banners/FLIXHQ.png',
        'Method' : 'Launch',
        'URL' : 'https://flixhq.to'
    },
    {
        'Name' : 'GeForce Now',
        'Icon' : '../img/icon/geforce.png',
        'Banner' : '../img/banners/geforcenow.png',
        'Method' : 'Launch',
        'URL' : 'https://play.geforcenow.com'
    },
    {
        'Name' : 'Twitch',
        'Icon' : '../img/icon/twitch.png',
        'Banner' : '../img/banners/Twitch.png',
        'Method' : 'Launch',
        'URL' : 'https://twitch.tv'
    }, 
    {
        'Name' : 'X',
        'Icon' : '../img/icon/X.png',
        'Banner' : '../img/banners/X.png',
        'Method' : 'Launch',
        'URL' : 'https://x.com'
    }, 
    {
        'Name' : 'HBO Max',
        'Icon' : '../img/icon/HBOMax.png',
        'Banner' : '../img/banners/HBO-Max.png',
        'Method' : 'Launch',
        'URL' : 'https://www.hbomax.com/'
    }, 
    {
        'Name' : 'Paramount+',
        'Icon' : '../img/icon/paramount.png',
        'Banner' : '../img/banners/Paramount+.png',
        'Method' : 'Launch',
        'URL' : 'https://paramountplus.com'
    }, 
    {
        'Name' : 'Pinterest',
        'Icon' : '../img/icon/pinterest.png',
        'Banner' : '../img/banners/Pinterest.png',
        'Method' : 'Launch',
        'URL' : 'https://pinterest.com'
    },
    {
        'Name' : 'Poki',
        'Icon' : '../img/icon/poki.png',
        'Banner' : '../img/banners/poki.png',
        'Method' : 'Launch',
        'URL' : 'https://poki.com'
    }, 
    {
        'Name' : 'Soundcloud',
        'Icon' : '../img/icon/soundcloud.png',
        'Banner' : '../img/banners/SOUNDCLOUD.png',
        'Method' : 'Launch',
        'URL' : 'https://soundcloud.com'
    }, 
    {
        'Name' : 'Telegram',
        'Icon' : '../img/icon/telegram.png',
        'Banner' : '../img/banners/Telegram.png',
        'Method' : 'Launch',
        'URL' : 'https://web.telegram.org/'
    }, 
    {
        'Name' : 'Tiktok',
        'Icon' : '../img/icon/TikTok.png',
        'Banner' : '../img/banners/TikTok.png',
        'Method' : 'Launch',
        'URL' : 'https://tiktok.com'
    }, 
    {
        'Name' : 'VS Code',
        'Icon' : '../img/icon/VsCode.png',
        'Banner' : '../img/banners/VsCode.png',
        'Method' : 'Launch',
        'URL' : 'https://vscode.dev'
    },
    {
        'Name' : 'Zoro TO',
        'Icon' : '../img/icon/zoroto.png',
        'Banner' : '../img/banners/ZoroTo-min.png',
        'Method' : 'Launch',
        'URL' : 'https://zoro.to'
    }, 
    {
        'Name' : '9Anime',
        'Icon' : '../img/icon/9anime.png',
        'Banner' : '../img/banners/9anime.png',
        'Method' : 'Launch',
        'URL' : 'https://9anime.to'
    }, 
    {
        'Name' : 'WhatsApp',
        'Icon' : '../img/icon/WhatsApp.png',
        'Banner' : '../img/banners/WhatsApp.png',
        'Method' : 'Launch',
        'URL' : 'https://web.whatsapp.com/'
    },
    {
        'Name' : 'Thirty Dollar Website',
        'Icon' : '../img/icon/thirtydollar.png',
        'Banner' : '../img/banners/LECTURE.png',
        'Method' : 'Launch',
        'URL' : 'https://thirtydollar.website/'
    },
    {
        'Name' : 'Youtube Music',
        'Icon' : '../img/icon/youtubemusic.png',
        'Banner' : '../img/banners/YTMusic.png',
        'Method' : 'Launch',
        'URL' : 'https://music.youtube.com/'
    },
    {
        'Name' : 'Mathway',
        'Icon' : '../img/icon/mathway_icon_rounded.png',
        'Banner' : '../img/banners/mathway-min.png',
        'Method' : 'Launch',
        'URL' : 'https://www.mathway.com/Algebra'
    },
    {
        'Name' : 'Flixtor',
        'Icon' : '../img/icon/flixtor.png',
        'Banner' : '../img/banners/flixtor.png',
        'Method' : 'Launch',
        'URL' : 'https://flixtor.si/'
    },
    {
        'Name' : 'Xbox Cloud Gaming',
        'Icon' : '../img/icon/xbox.png',
        'Banner' : '../img/banners/xbox.png',
        'Method' : 'Launch',
        'URL' : 'https://www.xbox.com/en-us/play'
    },
    {
        'Name' : 'Ruffle',
        'Icon' : '../img/icon/ruffle.png',
        'Banner' : '../img/banners/ruffle-min.png',
        'Method' : 'Launch',
        'URL' : 'https://ruffle.rs/demo/'
    },
    {
        'Name' : 'waflash',
        'Icon' : '../img/icon/waflash.png',
        'Banner' : '../img/banners/waflash-min.png',
        'Method' : 'Launch',
        'URL' : 'https://clubpenguinadvanced.github.io/waflash-demo/'
    },
    {
        'Name' : 'Rumble',
        'Icon' : '../img/icon/rumble.png',
        'Banner' : '../img/banners/rumblebanner-min.png',
        'Method' : 'Launch',
        'URL' : 'https://rumble.com/'
    },
    {
        'Name' : 'Apple Music',
        'Icon' : '../img/icon/apple.png',
        'Banner' : '../img/banners/Applemusic0-min.png',
        'Method' : 'Launch',
        'URL' : 'https://music.apple.com/us/browse'
    },
]


var genType = 'Modern';
function generateModernAppliances() {
    var container = document.getElementById("holder");
    genType = 'Modern';
    for (var i = 0; i < objects.length; i++) {
        var object = objects[i];
        var holder = document.getElementById("holder");
        var applianceContainer = document.createElement('div');
        applianceContainer.className = 'app-box';
        holder.appendChild(applianceContainer);
        var BannerCNTR = document.createElement('div');
        BannerCNTR.className = 'app-box-image';
        applianceContainer.appendChild(BannerCNTR);
        var imageInsideOfBannerCntr = document.createElement('img');
        BannerCNTR.appendChild(imageInsideOfBannerCntr);
        imageInsideOfBannerCntr.src = object.Banner;
        var TextContainer = document.createElement('div');
        TextContainer.className = "app-box-text";
        applianceContainer.appendChild(TextContainer);
        var LogoForTextContainer = document.createElement('img');
        LogoForTextContainer.src = object.Icon;
        TextContainer.appendChild(LogoForTextContainer);
        var LogoText = document.createElement('h1');
        TextContainer.appendChild(LogoText);
        LogoText.textContent = object.Name;
        var PlayButton = document.createElement('button');
        TextContainer.appendChild(PlayButton);
        PlayButton.textContent = "▶";
        // Use an IIFE to capture the current object
        (function(obj) {
            PlayButton.onclick = function() {
                Launch(obj.URL, obj.Name);
            };
        })(object);
    }
}

function generateCompactAppliances () {
    var container = document.getElementById("holder");
    for (var i = 0; i < objects.length; i++) {
        var object = objects[i];

        var applianceContainer = document.createElement('div');
        applianceContainer.className = 'appliance-container';
        container.appendChild(applianceContainer);
        var logoContainer = document.createElement('div');
        logoContainer.className = 'ap-logo-cntr';
        genType = 'Compact';
        var logoImage = document.createElement('img');
        logoImage.src = object.Icon;

        var gameTitle = document.createElement('h1');
        gameTitle.textContent = object.Name;
        container.appendChild(applianceContainer);
        logoContainer.appendChild(logoImage);
        applianceContainer.appendChild(logoContainer);
        applianceContainer.appendChild(gameTitle);
        (function(obj) {
            applianceContainer.onclick = function() {
                Launch(obj.URL, obj.Name);
            };
        })(object);
    }
}

function clearAppliances() {
    var holder = document.getElementById('holder');

  if (holder) {
    holder.innerHTML = '';
  }
}
generateModernAppliances();

function Launch(URL,Name) {
    localStorage.setItem("TargetURL", URL)
    localStorage.setItem("TargetName", Name)
    location.href = './go.html'
  }
    

function Compact() {
    clearAppliances();
    generateCompactAppliances();
    refreshAppContainer()
}

function Modern() {
    clearAppliances();
    generateModernAppliances();
    refreshAppContainer()
}

function addCustom() {
    var appName = prompt("Enter the name of the appliance:");
    var appLink = prompt("Enter the link of the appliance:");
    var appImgSrc = prompt("Enter the image source of the appliance:");
    
    var app = {
      name: appName,
      link: appLink,
      imgSrc: appImgSrc
    };
  
    if (genType === 'Modern') {
      var appBanner = prompt("Enter the banner image source of the appliance:");
      app.imgBanner = appBanner;
    }
  
    var apps = JSON.parse(localStorage.getItem("apps")) || [];
  
    apps.push(app);
    localStorage.setItem("apps", JSON.stringify(apps));
    window.location.reload();
  }
  

  function refreshAppContainer() {
    var appContainer = document.getElementById("app-container");
    var apps = JSON.parse(localStorage.getItem("apps")) || [];
    for (var i = 0; i < apps.length; i++) {
      var app = apps[i];
        if (genType == 'Compact') {
            generateCompact(app.link, app.name, app.imgSrc)
        }
        else {
            generateCustomModern(app.link, app.name, app.banner, app.imgSrc)
        }
             
    }
  }
  
  function clearApps() {
    localStorage.removeItem('apps');
  window.location.reload();
  }

  function generateCustomModern(url, name, banner, icon) {
    var holder = document.getElementById("holder");
        var applianceContainer = document.createElement('div');
        applianceContainer.className = 'app-box';
        holder.appendChild(applianceContainer);
        var BannerCNTR = document.createElement('div');
        BannerCNTR.className = 'app-box-image';
        applianceContainer.appendChild(BannerCNTR);
        var imageInsideOfBannerCntr = document.createElement('img');
        BannerCNTR.appendChild(imageInsideOfBannerCntr);
        imageInsideOfBannerCntr.src = banner;
        var TextContainer = document.createElement('div');
        TextContainer.className = "app-box-text";
        applianceContainer.appendChild(TextContainer);
        var LogoForTextContainer = document.createElement('img');
        LogoForTextContainer.src = icon;
        TextContainer.appendChild(LogoForTextContainer);
        var LogoText = document.createElement('h1');
        TextContainer.appendChild(LogoText);
        LogoText.textContent = name;
        var PlayButton = document.createElement('button');
        TextContainer.appendChild(PlayButton);
        PlayButton.textContent = "▶";
        (function() {
            PlayButton.onclick = function() {
                Launch(url, name);
            };
        })();
  }

  function generateCompact(url, name, icon) {
    var container = document.getElementById("holder");
    var applianceContainer = document.createElement('div');
        applianceContainer.className = 'appliance-container';
        container.appendChild(applianceContainer);
        var logoContainer = document.createElement('div');
        logoContainer.className = 'ap-logo-cntr';

        var logoImage = document.createElement('img');
        logoImage.src = icon;

        var gameTitle = document.createElement('h1');
        gameTitle.textContent = name;
        container.appendChild(applianceContainer);
        logoContainer.appendChild(logoImage);
        applianceContainer.appendChild(logoContainer);
        applianceContainer.appendChild(gameTitle);
        (function() {
            applianceContainer.onclick = function() {
                Launch(url, name);
            };
        })();
  }
var add = document.getElementById('one');
add.onclick = function() {
    addCustom();
};

var clear = document.getElementById('two');
clear.onclick = function() {
    clearApps();
};


function search_item() {
    let input = document.getElementById("cont-search-box").value.toLowerCase();
    let x = document.getElementsByClassName("app-box");
  
    if (genType == 'Modern') {
        for (let i = 0; i < x.length; i++) {
            let appBoxText = x[i].getElementsByClassName("app-box-text")[0];
            let appName = appBoxText.getElementsByTagName("h1")[0].innerText.toLowerCase();
        
            if (input === "" || appName.includes(input)) {
              x[i].style.display = "block";
            } else {
              x[i].style.display = "none";
            }
          }      
    }
    else {
        let z = document.getElementsByClassName("appliance-container");
        for (let i = 0; i < z.length; i++) {
            let appName = z[i].getElementsByTagName("h1")[0].innerText.toLowerCase();
        
            if (input === "" || appName.includes(input)) {
              z[i].style.display = "block";
            } else {
              z[i].style.display = "none";
            }
          }
        
    }
    document.body.style.overflow = input !== "" ? "hidden" : "auto";
  }
  
  